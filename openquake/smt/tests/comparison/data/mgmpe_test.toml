# Test input file for checking execution of GMPEs requiring mgmpe_check function found in openquake.smt.comparison.utils_gmpes.py

[general]
imt_list = ['PGA','SA(0.1)','SA(0.5)'] # IMTs to compute attenuation curves for
max_period = 0.5 # Max period for response spectra (can't exceed maximum period in a specified GMPE)
minR = 0 # Min dist. used in trellis, Sammon's, clusters and matrix plots
maxR = 300 # Max dist. used in trellis, Sammon's, clusters and matrix plots
dist_type = 'rrup' # Specify distance metric for trellis/spectra
dist_list = [] # Distances for use in response spectra
Nstd = 2 # Truncation for GMM sigma distribution

[site_properties] # Specify site properties (vs30 must be specified - the others are proxied if key is missing)
vs30 = 800
z1pt0 = 30.0  # (m) - if -999 compute from each GMM's own vs30 to z1pt0 relationship
z2pt5 = 0.57  # (km) - if -999 compute from each GMM's own vs30 to z2pt5 relationship
up_or_down_dip = 1 # 1 = up-dip, 0 = down-dip
volc_back_arc = false # true or false
eshm20_region = 0 # Residual attenuation cluster to use for KothaEtAl2020ESHM20

[source_properties] # Characterise EQ as finite rupture
lon = 0
lat = 0
strike = 0
dip = 45
rake = 60 # Must be provided. Strike and dip can be approximated if set to -999
mags = [5, 6, 7] # mags used only for trellis and response spectra
depths = [20, 25, 30] # depth per magnitude for trellis and response spectra
ztor = [1.0, 2.5, 3.0] # Set to -999 to NOT consider
aratio = 3 # If set to -999 the user-provided trt string will be used to assign a trt-dependent aratio
trt = -999 # Either -999 to use provided aratio OR specify a trt string to assign a trt-dependent proxy

[euclidean_analysis] # Mags/depths for Sammons maps, matrix plots and clustering (can omit if unneeded)
mag_spacing = 0.1
mags_depths = [[5, 20], [6, 25], [7, 30]] # [[mag, depth], [mag, depth], [mag, depth]] 
gmpe_labels = ['NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA', 'NA']

# Specify GMMs
[models]

[models.0-ModifiableGMPE]
gmpe = "YenierAtkinson2015BSSA"
sigma_model = "al_atik_2015_sigma" # Use Al Atik (2015) sigma model

[models.1-ModifiableGMPE]
gmpe = "CampbellBozorgnia2014"
fix_total_sigma = "{'PGA': 0.750, 'SA(0.1)': 0.800, 'SA(0.5)': 0.850}" # Set total sigma per imt

[models.2-ModifiableGMPE]
gmpe = "CampbellBozorgnia2014"
with_betw_ratio = 1.7 # Add between-event and within-event sigma using ratio of 1.7 to partition total sigma
        
[models.3-ModifiableGMPE]
gmpe = "CampbellBozorgnia2014"
set_between_epsilon = 1.5 # Set between-event epsilon (i.e. tau epsilon)
                        
[models.4-ModifiableGMPE]
gmpe = "AbrahamsonEtAl2014"
median_scaling_scalar = 1.4 # Scale median by factor of 1.4 over all imts

[models.5-ModifiableGMPE]
gmpe = "AbrahamsonEtAl2014"
median_scaling_vector = "{'PGA': 1.10, 'SA(0.1)': 1.15, 'SA(0.5)': 1.20}" # Scale median by imt-dependent factor

[models.6-ModifiableGMPE]
gmpe = "KothaEtAl2020"
sigma_scaling_scalar = 1.05 # Scale sigma by factor of 1.05 over all imts

[models.7-ModifiableGMPE]
gmpe = "KothaEtAl2020"
sigma_scaling_vector = "{'PGA': 1.20, 'SA(0.1)': 1.15, 'SA(0.5)': 1.10}" # Scale sigma by imt-dependent factor

[models.8-ModifiableGMPE]
gmpe = "BooreEtAl2014"
site_term = 'CY14SiteTerm' # Use CY14 site term

[models.9-ModifiableGMPE]
gmpe = "AtkinsonMacias2009"
site_term = "BA08SiteTerm" # Use BA08 site term

[models.10-ModifiableGMPE]
gmpe = "EMME24BB_GMM1SGM1"
site_term = "BSSA14SiteTerm" # Use BSSA14 site term

[models.11-ModifiableGMPE]
gmpe = "BooreEtAl2014"
site_term = "NRCan15SiteTerm" # Use NRCan15 site term ("base" kind)

[models.12-ModifiableGMPE]
gmpe = "BooreEtAl2014"
site_term = "NRCan15SiteTermLinear" # Use NRCan15 site term ("linear" kind)

[models.13-ModifiableGMPE]
gmpe = "AtkinsonBoore2006Modified2011"
site_term = "CEUS2020SiteTerm_refVs30=760" # Use Stewart et al. (2020) site term with a reference Vs30 of 760 m/s

[models.14-ModifiableGMPE]
gmpe = "AtkinsonMacias2009"
basin_term = "CB14BasinTerm" # Apply CB14 basin adjustment

[models.15-ModifiableGMPE]
gmpe = "KuehnEtAl2020SInter"
basin_term = "M9BasinTerm" # Apply M9 basin adjustment

[models.16-ModifiableGMPE]
gmpe = "CampbellBozorgnia2014"
add_delta_sigma_to_total_sigma = 0.5 # Add a delta to the total GMPE sigma

[models.17-ModifiableGMPE]
gmpe = "CampbellBozorgnia2014"
set_total_sigma_as_tau_plus_delta = 0.5 # Set total sigma to square root of (tau**2 + delta**2)

[models.18-ModifiableGMPE] # ModifiableGMPE with an underlying GSIM containing additional input arguments
gmpe = "[AbrahamsonEtAl2014]\nregion=JPN\nusgs_basin_scaling=True"      # Similar to OQ syntax for instantiating gsim 
fix_total_sigma = "{'PGA': 0.750, 'SA(0.1)': 0.800, 'SA(0.5)': 0.850}"  # from string in openquake.hazardlib.valid.gsim

[models.19-NGAEastGMPE] # Use a gmpe table
gmpe_table = "NGAEast_FRANKEL_J15.hdf5"
    
[models.20-HassaniAtkinson2018] # GMPE Table GSIM
d_sigma = 100 
kappa0 = 0.04

[ratios_baseline_gmm.ModifiableGMPE] # ModifiableGMPE as a Baseline GMM for attenuation curve ratio plots
gmpe = "[AbrahamsonEtAl2014]\nregion=JPN\nusgs_basin_scaling=True"
site_term = "BA08SiteTerm" # Arbitrary for testing execution of this capability

[custom_plotting]
custom_colors_flag = false # Set to true for custom colours
custom_colors_list = ['lime','dodgerblue','gold','0.8']