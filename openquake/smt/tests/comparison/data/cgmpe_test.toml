# Test input file for checking execution of GMPEs requiring mgmpe_check function found in openquake.smt.comparison.utils_gmpes.py

[general]
imt_list = ['IA'] # IMTs to compute attenuation curves for
max_period = 0.5 # Max period for response spectra (can't exceed maximum period in a specified GMPE)
minR = 0 # Min dist. used in trellis, Sammon's, clusters and matrix plots
maxR = 300 # Max dist. used in trellis, Sammon's, clusters and matrix plots
dist_type = 'rrup' # Specify distance metric for trellis/spectra
dist_list = [] # Distances for use in response spectra
Nstd = 2 # Truncation for GMM sigma distribution

[site_properties] # Specify site properties (vs30 must be specified - the others are proxied if key is missing)
vs30 = 800
z1pt0 = 30.0  # (m) - if -999 compute from each GMM's own vs30 to z1pt0 relationship
z2pt5 = 0.57  # (km) - if -999 compute from each GMM's own vs30 to z2pt5 relationship
up_or_down_dip = 1 # 1 = up-dip, 0 = down-dip
volc_back_arc = false # true or false
eshm20_region = 0 # Residual attenuation cluster to use for KothaEtAl2020ESHM20

[source_properties] # Characterise EQ as finite rupture
lon = 0
lat = 0
strike = 0
dip = 45
rake = 60 # Must be provided. Strike and dip can be approximated if set to -999
mags = [5, 6, 7] # mags used only for trellis and response spectra
depths = [20, 25, 30] # depth per magnitude for trellis and response spectra
ztor = 2.5 # Set to -999 to NOT consider
aratio = 2 # If set to -999 the user-provided trt string will be used to assign a trt-dependent aratio
trt = -999 # Either -999 to use provided aratio OR specify a trt string to assign a trt-dependent proxy

[euclidean_analysis] # Mags/depths for Sammons maps, matrix plots and clustering (can omit if unneeded)
mag_spacing = 0.1
mags_depths = [[5, 20], [6, 25], [7, 30]] # [[mag, depth], [mag, depth], [mag, depth]] 
gmpe_labels = ['NA', 'NA', 'NA', 'NA', 'NA']

# Specify GMMs
[models]

[models.0-ConditionalGMPE] # Conditional GMPE and base GMPE with extra params
cond_gmpe = "[MacedoEtAl2019SInter]\nrho_pga_sa1=0.50\nregion='Japan'" 
base_gmpe = "[AbrahamsonGulerce2020SInter]\nregion='JPN'"

[models.1-ConditionalGMPE] # Extra params only for conditional GMPE
cond_gmpe = "[MacedoEtAl2019SInter]\nregion='South America'"
base_gmpe = "KuehnEtAl2020SInter"

[models.2-ConditionalGMPE] # Extra params only for base GMPE
cond_gmpe = "MacedoEtAl2019SInter"
base_gmpe = "[AbrahamsonGulerce2020SInter]\napply_usa_adjustment='true'"

[models.3-ConditionalGMPE] # No extra params for conditional GMPE or base GMPE
cond_gmpe = "MacedoEtAl2019SInter"
base_gmpe = "KuehnEtAl2020SInter"

[models.4-ConditionalGMPE] # Check works on a subclass (SSlab is subclass of SInter here)
cond_gmpe = "MacedoEtAl2019SSlab"
base_gmpe = "KuehnEtAl2020SSlab"

[ratios_baseline_gmm.ConditionalGMPE] # ConditionalGMPE as a Baseline GMM (not used here so ok to specify
                                      # despite not supporting IA (for the baseline we are just checking 
                                      # instantiation works)
cond_gmpe = "AbrahamsonBhasin2020PGA"
base_gmpe = "[ChiouYoungs2014]\nregion='JPN'\nuse_hw='false'"

[custom_colors]
custom_colors_flag = false # Set to true for custom colours
custom_colors_list = ['lime','dodgerblue','gold','0.8']