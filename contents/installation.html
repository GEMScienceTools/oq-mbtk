

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; OpenQuake Model Building Toolkit Suite  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CAtalogue Toolkit (cat) module" href="cat.html" />
    <link rel="prev" title="Welcome to the OpenQuake Model Building Toolkit’s documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            OpenQuake Model Building Toolkit Suite
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#julia-and-pshamodelbuilder">Julia and PSHAModelBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gmt-and-pygmt-for-plotting">GMT and pyGMT for plotting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cat.html">CAtalogue Toolkit (cat) module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ghm.html">Global Hazard Map (ghm) module</a></li>
<li class="toctree-l1"><a class="reference internal" href="man.html">Model ANalysis (man) module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mbt.html">Model Building Toolkit (mbt) module</a></li>
<li class="toctree-l1"><a class="reference internal" href="sub.html">SUBduction (sub) module</a></li>
<li class="toctree-l1"><a class="reference internal" href="smt.html">Strong-Motion Tools (smt) module</a></li>
<li class="toctree-l1"><a class="reference internal" href="sep.html">Secondary Perils Analysis using the OQ-MBTK</a></li>
<li class="toctree-l1"><a class="reference internal" href="wkf.html">SSC workflow (wkf) module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenQuake Model Building Toolkit Suite</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/contents/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h1>
<p>The <em>oq-mbtk</em> is installed with the procedure described in the following.
Note that this procedure implies the installation of the OpenQuake engine.
It was tested on Windows, Mac OS and Linux systems.</p>
<p>Here we demonstrate the installation of the MBTK for a linux system and Python 3.11.</p>
<ul class="simple">
<li><p>Open a terminal and move to the folder where you intend to install the tools;</p></li>
<li><p>Upgrade pip:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
</pre></div>
</div>
<ul class="simple">
<li><p>Install the OpenQuake engine and activate its virtual environment:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>--depth<span class="o">=</span><span class="m">1</span><span class="w"> </span>https://github.com/gem/oq-engine.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>oq-engine
$<span class="w"> </span>python3<span class="w"> </span>install.py<span class="w"> </span>devel
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>~/openquake/bin/activate
</pre></div>
</div>
<ul class="simple">
<li><p>Go to the folder where you cloned the oq-mbtk repository and complete the</p></li>
</ul>
<p>installation running the following commands,
making sure to replace <cite>requirements-py311-linux.txt</cite> with the name of
the file corresponding to the correct python version and operating system:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements-py311-linux.txt
</pre></div>
</div>
<section id="julia-and-pshamodelbuilder">
<h2>Julia and PSHAModelBuilder<a class="headerlink" href="#julia-and-pshamodelbuilder" title="Link to this heading"></a></h2>
<p>Some of the functions of the mbtk (especially the <code class="code docutils literal notranslate"><span class="pre">wkf</span></code> module) require the use of the
<a class="reference external" href="https://github.com/GEMScienceTools/PSHAModelBuilder">PSHAModelBuilder</a>. These scripts
are written in Julia to provide a more computationally efficient approach for fixed
kernel smoothing and propogating rates to a smoothed model. To use the
PSHAModelBuilder, install <a class="reference external" href="https://julialang.org/">Julia</a> and then do the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>julia
$<span class="w"> </span><span class="o">]</span>
$<span class="w"> </span>add<span class="w"> </span>https://github.com/GEMScienceTools/PSHAModelBuilder.git
</pre></div>
</div>
</section>
<section id="gmt-and-pygmt-for-plotting">
<h2>GMT and pyGMT for plotting<a class="headerlink" href="#gmt-and-pygmt-for-plotting" title="Link to this heading"></a></h2>
<p>Some of the functions in the mbtk will create maps with <a class="reference external" href="https://www.generic-mapping-tools.org/">the Generic Mapping Tools</a>,
either directly or through the pyGMT package. You can find guidance on downloading <a class="reference external" href="https://docs.generic-mapping-tools.org/latest/install.html">GMT</a> or <a class="reference external" href="https://www.pygmt.org/latest/install.html">pyGMT</a> at the provided links. <strong>Note</strong> that although pyGMT is a requirement of the mbtk, you will need to install GMT in your virtual environment seperately following the above link if you wish to use the pyGMT plotting features. This site also contains helpful information on the most common installation issues (i.e. if you see an ‘Error loading GMT shared library’ error).</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to the OpenQuake Model Building Toolkit’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cat.html" class="btn btn-neutral float-right" title="CAtalogue Toolkit (cat) module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2022, GEM Hazard.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>